// ==UserScript==
// @name Profile tails (optimization)
// @version 4.0
// @description Some changes of profile
// @author Anton Kozlovski
// @match *://vk.com/*
// ==/UserScript==
(function(){'use strict';function tail(e,t,o,a){var i=document.querySelector(e);if(i&&!document.querySelector(e).classList.contains("tail")){var l=document.querySelector(".header_count .num_delim");l&&(l.innerHTML="");var r=i.textContent,n=r%10,u=r%100;i.innerHTML+=1==n&&11!=u?" "+t:n>=2&&n<=4&&(u<10||u>=20)?" "+o:" "+a,i.classList+=" tail",l&&(l.innerHTML=" ")}}var callback=function(){for(var e=document.querySelectorAll(".header_count"),t=0,o=e.length;t<o;t++)""===e[t].textContent||e[t].classList.contains("tail")||(tail("#profile_friends .header_count","друг","друга","друзей"),tail("#profile_friends_online .header_count","друг","друга","друзей"),tail("#profile_common_friends .header_count","друг","друга","друзей"),tail("#profile_idols .header_count","страница","страницы","страниц"),tail("#profile_videos .header_count","видеозапись","видеозаписи","видеозаписей"),tail("#profile_audios .header_count","аудиозапись","аудиозаписи","аудиозаписей"),tail("#profile_gifts .header_count","подарок","подарка","подарков"),tail("#profile_albums .header_count","альбом","альбома","альбомов"),tail("#profile_photos_module .header_count","фотография","фотографии","фотографий"),tail("#public_followers .header_count","подписчик","подписчика","подписчиков"),tail("#public_links .header_count","ссылка","ссылки","ссылок"),tail("#public_albums .header_count","альбом","альбома","альбомов"),tail("#public_topics .header_count","тема","темы","тем"),tail("#public_contacts .header_count","контакт","контакта","контактов"),tail("#public_videos .header_count","видеозапись","видеозаписи","видеозаписей"),tail("#public_audios .header_count","аудиозапись","аудиозаписи","аудиозаписей"),tail("#public_events .header_count","мероприятие","мероприятия","мероприятий"),tail("#public_market .header_count","товар","товара","товаров"),tail("#public_places .header_count","место","места","мест"),tail("#group_followers .header_count","человек","человек","человек"),tail("#group_links .header_count","ссылка","ссылки","ссылок"),tail("#group_albums .header_count","альбом","альбома","альбомов"),tail("#group_topics .header_count","тема","темы","тем"),tail("#group_contacts .header_count","контакт","контакта","контактов"),tail("#group_videos .header_count","видеозапись","видеозаписи","видеозаписей"),tail("#group_audios .header_count","аудиозапись","аудиозаписи","аудиозаписей"),tail("#group_events .header_count","мероприятие","мероприятия","мероприятий"),tail("#group_market .header_count","товар","товара","товаров"),tail("#group_docs .header_count","документ","документа","документов"))},element=document.querySelector("body"),mo=new MutationObserver(callback),options={subtree:!0,childList:!0};mo.observe(element,options);})();
